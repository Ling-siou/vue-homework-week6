import{_ as d,o as r,c as s,F as h,d as l,w as a,e as p,b as m,t as k}from"./index-cd3aacec.js";const f="https://vue3-course-api.hexschool.io/v2/",g={props:["mode"],data(){return{userRouters:[]}},computed:{routerList(){return[]}},created(){const e=this.$router.options.routes;this.userRouters=e.find(t=>t.path===this.mode).children},methods:{ifAdminChildren(e){return this.mode==="/admin"&&e!=="/admin"?`/admin/${e}`:e},getCookieData(e){const o=`; ${document.cookie}`.split(`; ${e}=`);let i="";return o.length===2&&(i=o[1].split(";")[0]),i},logout(){this.$http.post(`${f}logout`,{},{headers:{Authorization:this.getCookieData("token")}}).then(e=>{alert("已登出"),document.cookie="expired=",document.cookie="token=",this.$router.push({path:"/"})}).catch(()=>{alert("登出失敗")})}}},_=["onClick"],C=m("hr",null,null,-1);function $(e,t,o,i,u,c){return r(),s("div",null,[(r(!0),s(h,null,l(u.userRouters,n=>(r(),s("a",{key:n.path,href:"#",onClick:a(()=>this.$router.push(this.ifAdminChildren(n.path)),["prevent"]),class:"me-2"},k(n.name),9,_))),128)),o.mode==="/admin"?(r(),s("a",{key:0,href:"#",onClick:t[0]||(t[0]=a(()=>c.logout(),["prevent"]))},"登出")):p("",!0),C])}const x=d(g,[["render",$]]);export{x as N};
